<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="meeting_rooms_html" name="Meeting Rooms HTML">
        <t t-name="meeting_rooms_2.meeting_rooms_html">
            <html lang="en">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="width=device-width, initial-scale=1"/>
                    <title>Meeting Rooms Create Calendar</title>

                    <!-- IMPORTANT: jangan self-closing untuk script -->
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

                    <!-- CSS: jangan pakai text/scss langsung -->
                    <link rel="stylesheet" href="/meeting_rooms_2/static/src/css/index.css"/>
                    
                    <!-- Module JS -->
                    <script type="text/javascript" src="/meeting_rooms_2/static/src/js/index.js"></script>
                </head>

                <body>
                    <!-- Debug marker: kalau ini tampil, berarti halaman kebuka -->
                    <div style="font-family: Arial, sans-serif; font-size: 12px; padding: 10px; color: #555;">
                        Generating calendar invitation...
                    </div>

                    <!-- Debug marker in console -->
                    <script type="text/javascript">
                        console.log("[meeting_rooms] /create-icalendar page loaded");
                    </script>

                    <input type="hidden" id="start_date" t-att-value="start_date"/>
                    <input type="hidden" id="end_date" t-att-value="end_date"/>
                    <input type="hidden" id="subject" t-att-value="docs.subject"/>
                    <input type="hidden" id="room_location" t-att-value="docs.room_location.name"/>
                    <input type="hidden" id="description" t-att-value="docs.description"/>
                    <input type="hidden" id="reminder" t-att-value="docs.calendar_alarm.duration"/>
                    <input type="hidden" id="attendee" t-att-value="attendee"/>
                    <input type="hidden" id="user_email" t-att-value="request.env.user.email"/>
                    <input type="hidden" id="user_name" t-att-value="request.env.user.display_name"/>
                    <input type="hidden" id="meeting_id" t-att-value="docs.id"/>
                    <input type="hidden" id="create_date" t-att-value="docs.create_date"/>
                    <input type="hidden" id="write_date" t-att-value="docs.write_date"/>
                    <input type="hidden" id="version" t-att-value="docs.version"/>
                    <input type="hidden" id="roomTZ" t-att-value="docs.room_location.tz"/>
                    <input type="hidden" id="tzOffset" t-att-value="docs.room_location.tz_offset"/>
                </body>
            </html>
        </t>
    </template>
</odoo>
